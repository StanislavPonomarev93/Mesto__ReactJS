{"version":3,"sources":["contexts/CurrentUserContext.js","images/logo.svg","components/Header.js","components/Card.js","images/avatar-icon.svg","components/Main.js","images/close.svg","components/PopupWithForm.js","components/EditProfilePopup.js","components/EditAvatarPopup.js","components/AddPlacePopup.js","components/ImagePopup.js","components/Api.js","App.js","reportWebVitals.js","index.js"],"names":["CurrentUserContext","React","createContext","Header","className","src","logo","alt","Card","props","currentUser","useContext","cards","map","card","onClick","onCardClick","link","style","backgroundImage","owner","_id","e","stopPropagation","onCardDelete","name","likes","some","i","onCardLike","length","toString","Main","avatar","onEditAvatar","avatarIcon","about","onEditProfile","onAddPlace","PopupWithForm","isOpen","onClose","closePopupIcon","title","onSubmit","containerInput","buttonDisabled","nameButton","ProfilePopup","nameRef","useRef","aboutRef","useState","setName","setDescription","setButtonDisabled","handleChange","error","target","nextElementSibling","validity","valid","textContent","validationMessage","split","value","current","form","checkValidity","useEffect","Boolean","preventDefault","onUpdateUser","loading","ref","type","required","placeholder","minLength","maxLength","onChange","autoComplete","AvatarPopup","linkAvatar","onUpdateAvatar","PlasePopup","cardName","cardLinck","onUpdateParce","ImagePopup","api","getUserInfo","fetch","headers","authorization","then","res","ok","json","Promise","reject","status","catch","err","console","log","getInitialCards","sendUserInfo","nameValue","aboutValue","method","body","JSON","stringify","addCard","cardData","editLike","cardId","like","deleteCard","changeAvatar","avatarValue","App","isEditProfilePopupOpen","setPopupProfile","isAddPlacePopupOpen","setPopupPlace","isEditAvatarPopupOpen","setPopupAvatar","selectedCard","setSelectedCard","setCurrentUser","setCards","setLoading","closeAllPopups","Provider","isLiked","newCard","newCards","c","filter","EditProfilePopup","obj","finally","AddPlacePopup","EditAvatarPopup","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.ad05fb08.chunk.js","sourcesContent":["import React from 'react';\r\nconst CurrentUserContext = React.createContext();\r\nexport default CurrentUserContext;","export default __webpack_public_path__ + \"static/media/logo.fad4f8a5.svg\";","import logo from '../images/logo.svg';\r\n\r\nfunction Header() {\r\n  return (\r\n    <header className=\"header root__section\">\r\n      <img src={logo} alt=\"mesto logo\" className=\"logo\" />\r\n    </header>\r\n  )\r\n}\r\nexport default Header;","import React from 'react';\r\nimport CurrentUserContext from '../contexts/CurrentUserContext';\r\n\r\nfunction Card(props) {\r\n  const currentUser = React.useContext(CurrentUserContext);\r\n  return (\r\n    props.props.cards.map((card) =>\r\n      <div key={card._id.toString()} className=\"place-card\">\r\n        <div onClick={() => props.props.onCardClick(card.link)} className=\"place-card__image\" style={{ backgroundImage: `url(${card.link})` }}>\r\n          {card.owner._id === currentUser._id && <button className=\"place-card__delete-icon\" onClick={(e) => {\r\n            e.stopPropagation();\r\n            props.props.onCardDelete(card);\r\n          }}></button>}\r\n        </div>\r\n        <div className=\"place-card__description\">\r\n          <h3 className=\"place-card__name\">{card.name}</h3>\r\n          <div className=\"place-card__like-container\">\r\n            <button\r\n            className={`place-card__like-icon ${card.likes.some(i => i._id === currentUser._id) && \"place-card__like-icon_liked\"}`}\r\n            onClick={() => props.props.onCardLike(card)}>\r\n            </button>\r\n            <p className=\"place-card__like-number\">{card.likes.length}</p>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    )\r\n  )\r\n}\r\nexport default Card;","export default __webpack_public_path__ + \"static/media/avatar-icon.1a05233d.svg\";","import React from 'react';\r\nimport Card from '../components/Card';\r\nimport CurrentUserContext from '../contexts/CurrentUserContext';\r\nimport avatarIcon from '../images/avatar-icon.svg';\r\nfunction Main(props) {\r\n  const currentUser = React.useContext(CurrentUserContext);\r\n  return (\r\n    <>\r\n      <div className=\"profile root__section\">\r\n        <div className=\"user-info\">\r\n          <div className=\"user-info__photo\" style={{ backgroundImage: `url(${currentUser.avatar})` }}>\r\n            <img onClick={props.onEditAvatar} src={avatarIcon} className=\"user-info__avatar-icon\" alt=\"аватар\" />\r\n          </div>\r\n          <div className=\"user-info__data\">\r\n            <h1 className=\"user-info__name\">{currentUser.name}</h1>\r\n            <p className=\"user-info__job\">{currentUser.about}</p>\r\n            <button onClick={props.onEditProfile} className=\"user-info__edit\">Edit</button>\r\n          </div>\r\n          <button onClick={props.onAddPlace} className=\"button user-info__button\">+</button>\r\n        </div>\r\n      </div>\r\n\r\n      <div className=\"places-list root__section\"><Card props={props} /></div>\r\n    </>\r\n  )\r\n}\r\nexport default Main;","export default __webpack_public_path__ + \"static/media/close.8a65f75d.svg\";","import closePopupIcon from '../images/close.svg';\r\n\r\nfunction PopupWithForm(props) {\r\n  return (\r\n    <div className={`popup popup__${props.name} ${props.isOpen && 'popup_is-opened'}`}>\r\n      <div className=\"popup__content\">\r\n        <img\r\n          onClick={props.onClose}\r\n          src={closePopupIcon}\r\n          alt=\"закрыть попап\"\r\n          className={`popup__close popup__close-${props.name}`}\r\n        />\r\n        <h3 className=\"popup__title\">{props.title}</h3>\r\n        <form className=\"popup__form\" name={props.name} onSubmit={props.onSubmit}>\r\n          {props.containerInput}\r\n          <button className={`popup__button popup__button-${props.name} ${!props.buttonDisabled && 'button__disabled'}`}>\r\n            {props.nameButton}\r\n          </button>\r\n        </form>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\nexport default PopupWithForm;","import React from 'react';\r\nimport PopupWithForm from './PopupWithForm';\r\nimport CurrentUserContext from '../contexts/CurrentUserContext';\r\n\r\nfunction ProfilePopup(props) {\r\n  const currentUser = React.useContext(CurrentUserContext);\r\n  const nameRef = React.useRef();\r\n  const aboutRef = React.useRef();\r\n  const [name, setName] = React.useState('');\r\n  const [about, setDescription] = React.useState('');\r\n  const [buttonDisabled, setButtonDisabled] = React.useState(false);\r\n\r\n  function handleChange(e) {\r\n    const error = e.target.nextElementSibling;\r\n    if (!e.target.validity.valid) {\r\n      error.textContent = e.target.validationMessage.split('.')[0];\r\n      e.target.name === 'name' ? setName(e.target.value) : setDescription(e.target.value);\r\n      setButtonDisabled(false);\r\n      return error;\r\n    }\r\n    error.textContent = '';\r\n    e.target.name === 'name' ? setName(e.target.value) : setDescription(e.target.value);\r\n    nameRef.current.form.checkValidity() && setButtonDisabled(true);\r\n  }\r\n  function handleSubmit(e) {\r\n    e.preventDefault();\r\n    props.onUpdateUser({ name, about, });\r\n  }\r\n  React.useEffect(() => {\r\n    props.isOpen && setButtonDisabled(Boolean(nameRef.current.value || aboutRef.current.value));\r\n  }, [props.isOpen]);\r\n  React.useEffect(() => {\r\n    setName(currentUser.name);\r\n    setDescription(currentUser.about);\r\n  }, [currentUser, props.isOpen]);\r\n  return (\r\n    <PopupWithForm\r\n      onSubmit={handleSubmit}\r\n      buttonDisabled={buttonDisabled}\r\n      isOpen={props.isOpen}\r\n      onClose={props.onClose}\r\n      title=\"Редактировать профиль\"\r\n      nameButton={props.loading ? '...Загрузка' : 'Сохранить'}\r\n      containerInput={\r\n        <>\r\n          <div className=\"input-container\">\r\n            <input\r\n              ref={nameRef}\r\n              type=\"text\"\r\n              required\r\n              className=\"popup__input popup__input_type_nameProfile\"\r\n              placeholder=\"Имя\"\r\n              minLength=\"2\"\r\n              maxLength=\"32\"\r\n              onChange={handleChange}\r\n              name=\"name\"\r\n              value={name}\r\n              autoComplete=\"off\"\r\n            />\r\n            <span className=\"error\">{props.isOpen && ''}</span>\r\n          </div>\r\n          <div className=\"input-container\">\r\n            <input\r\n              ref={aboutRef}\r\n              type=\"text\"\r\n              required\r\n              className=\"popup__input popup__input_type_aboutMe\"\r\n              placeholder=\"О себе\"\r\n              minLength=\"2\"\r\n              maxLength=\"32\"\r\n              onChange={handleChange}\r\n              name=\"about\"\r\n              value={about}\r\n              autoComplete=\"off\"\r\n            />\r\n            <span className=\"error\">{props.isOpen && ''}</span>\r\n          </div>\r\n        </>\r\n      }\r\n    />\r\n  );\r\n}\r\nexport default ProfilePopup;","import React from 'react';\r\nimport PopupWithForm from './PopupWithForm';\r\n\r\nfunction AvatarPopup(props) {\r\n  const linkAvatar = React.useRef();\r\n  const [buttonDisabled, setButtonDisabled] = React.useState(false);\r\n  function handleChange(e) {\r\n    const error = e.target.nextElementSibling;\r\n    if (!e.target.validity.valid) {\r\n      error.textContent = e.target.validationMessage.split('.')[0];\r\n      setButtonDisabled(false);\r\n      return error;\r\n    }\r\n    error.textContent = '';\r\n    setButtonDisabled(true);\r\n  }\r\n  function handleSubmit(e) {\r\n    e.preventDefault();\r\n    props.onUpdateAvatar({\r\n      avatar: linkAvatar.current.value\r\n    })\r\n  }\r\n  React.useEffect(() => {\r\n    props.isOpen && setButtonDisabled(Boolean(linkAvatar.current.value));\r\n    linkAvatar.current.value = '';\r\n  }, [props.isOpen]);\r\n  return (\r\n    <PopupWithForm\r\n      onSubmit={handleSubmit}\r\n      buttonDisabled={buttonDisabled}\r\n      isOpen={props.isOpen}\r\n      onClose={props.onClose}\r\n      title=\"Обновить аватар\"\r\n      nameButton={props.loading ? '...Загрузка' : 'Сохранить'}\r\n      containerInput={\r\n        <>\r\n          <div className=\"input-container\">\r\n            <input\r\n              ref={linkAvatar}\r\n              type=\"url\"\r\n              required\r\n              onChange={handleChange}\r\n              className=\"popup__input popup__input_type_link-url\"\r\n              placeholder=\"Ссылка на картинку\"\r\n              autoComplete=\"off\"\r\n            />\r\n            <span className=\"error\">{props.isOpen && ''}</span>\r\n          </div>\r\n        </>\r\n      }\r\n    />\r\n  )\r\n}\r\nexport default AvatarPopup;","import React from 'react';\r\nimport PopupWithForm from './PopupWithForm';\r\n\r\nfunction PlasePopup(props) {\r\n  const cardName = React.useRef();\r\n  const cardLinck = React.useRef();\r\n  const [buttonDisabled, setButtonDisabled] = React.useState(false);\r\n\r\n  function handleChange(e) {\r\n    const error = e.target.nextElementSibling;\r\n    if (!e.target.validity.valid) {\r\n      error.textContent = e.target.validationMessage.split('.')[0];\r\n      setButtonDisabled(false);\r\n      return error;\r\n    }\r\n    error.textContent = '';\r\n    cardName.current.form.checkValidity() && setButtonDisabled(true);\r\n  }\r\n  function handleSubmit(e) {\r\n    e.preventDefault();\r\n    props.onUpdateParce({\r\n      name: cardName.current.value,\r\n      link: cardLinck.current.value\r\n    });\r\n  }\r\n  React.useEffect(() => {\r\n    props.isOpen && setButtonDisabled(Boolean(cardName.current.value && cardLinck.current.value));\r\n    cardName.current.value = '';\r\n    cardLinck.current.value = '';\r\n  }, [props.isOpen]);\r\n  return (\r\n    <PopupWithForm\r\n      onSubmit={handleSubmit}\r\n      buttonDisabled={buttonDisabled}\r\n      isOpen={props.isOpen}\r\n      onClose={props.onClose}\r\n      title=\"Новое место\"\r\n      nameButton={props.loading ? '...Загрузка' : '+'}\r\n      containerInput={\r\n        <>\r\n          <div className=\"input-container\">\r\n            <input\r\n              ref={cardName}\r\n              type=\"text\"\r\n              required\r\n              onChange={handleChange}\r\n              className=\"popup__input popup__input_type_name\"\r\n              placeholder=\"Название\"\r\n              minLength=\"2\"\r\n              maxLength=\"32\"\r\n              autoComplete=\"off\"\r\n            />\r\n            <span className=\"error\">{props.isOpen && ''}</span>\r\n          </div>\r\n          <div className=\"input-container\">\r\n            <input\r\n              ref={cardLinck}\r\n              type=\"url\"\r\n              required\r\n              onChange={handleChange}\r\n              className=\"popup__input popup__input_type_link-url\"\r\n              placeholder=\"Ссылка на картинку\"\r\n              autoComplete=\"off\"\r\n            />\r\n            <span className=\"error\">{props.isOpen && ''}</span>\r\n          </div>\r\n        </>\r\n      }\r\n    />\r\n  )\r\n}\r\nexport default PlasePopup;","import closePopupIcon from '../images/close.svg';\r\n\r\nfunction ImagePopup(props) {\r\n  return (\r\n    <div className={`popup popup__image ${props.card && 'popup_is-opened'}`}>\r\n      <div className=\"popup__container\">\r\n        <img\r\n          onClick={props.onClose}\r\n          src={closePopupIcon}\r\n          alt=\"закрыть картинку\"\r\n          className=\"popup__close popup__close-image\"\r\n        />\r\n        <img\r\n          src={props.card}\r\n          alt=\"картинка\"\r\n          className=\"popup__image-big\"\r\n        />\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\nexport default ImagePopup;","class Api {\r\n  getUserInfo = () => {\r\n    return fetch('https://nomoreparties.co/cohort12/users/me', {\r\n      headers: {\r\n        authorization: 'd4572fc5-fe6c-4e19-8131-2e629bd6f3d0'\r\n      }\r\n    })\r\n      .then(res => res.ok ? res.json() : Promise.reject(res.status))\r\n      .catch(err => console.log(`Ошибка: ${err}`))\r\n  };\r\n  getInitialCards = () => {\r\n    return fetch('https://nomoreparties.co/cohort12/cards', {\r\n      headers: {\r\n        authorization: 'd4572fc5-fe6c-4e19-8131-2e629bd6f3d0'\r\n      }\r\n    })\r\n      .then(res => res.ok ? res.json() : Promise.reject(res.status))\r\n      .catch(err => console.log(`Ошибка: ${err}`))\r\n  };\r\n  sendUserInfo = (nameValue, aboutValue) => {\r\n    return fetch('https://nomoreparties.co/cohort12/users/me', {\r\n        method: 'PATCH',\r\n        headers: {\r\n          authorization: 'd4572fc5-fe6c-4e19-8131-2e629bd6f3d0',\r\n          'Content-Type': 'application/json'\r\n        },\r\n        body: JSON.stringify({\r\n          name: nameValue,\r\n          about: aboutValue\r\n        })\r\n      })\r\n      .then(res => res.ok ? res.json() : Promise.reject(res.status))\r\n      .catch(err => console.log(`Ошибка: ${err}`))\r\n  };\r\n  addCard = (cardData) => {\r\n    return fetch(`https://nomoreparties.co/cohort12/cards`, {\r\n        method: 'POST',\r\n        headers: {\r\n          authorization: 'd4572fc5-fe6c-4e19-8131-2e629bd6f3d0',\r\n          'Content-Type': 'application/json'\r\n        },\r\n        body: JSON.stringify(cardData)\r\n      })\r\n      .then(res => res.ok ? res.json() : Promise.reject(res.status))\r\n      .catch(err => console.log(`Ошибка: ${err}`))\r\n  };\r\n  editLike = (cardId, like) => {\r\n    return fetch(`https://nomoreparties.co/cohort12/cards/like/${cardId}`, {\r\n        method: like ? 'PUT' : 'DELETE',\r\n        headers: {\r\n          authorization: 'd4572fc5-fe6c-4e19-8131-2e629bd6f3d0'\r\n        }\r\n      })\r\n      .then(res => res.ok ? res.json() : Promise.reject(res.status))\r\n      .catch(err => console.log(`Ошибка: ${err}`))\r\n  }\r\n  deleteCard = (cardId) => {\r\n    return fetch(`https://nomoreparties.co/cohort12/cards/${cardId}`, {\r\n        method: 'DELETE',\r\n        headers: {\r\n          authorization: 'd4572fc5-fe6c-4e19-8131-2e629bd6f3d0'\r\n        }\r\n      })\r\n      .then(res => res.ok ? res.json() : Promise.reject(res.status))\r\n      .catch(err => console.log(`Ошибка: ${err}`))\r\n  };\r\n  changeAvatar = (avatarValue) => {\r\n    return fetch('https://nomoreparties.co/cohort12/users/me/avatar', {\r\n        method: 'PATCH',\r\n        headers: {\r\n          authorization: 'd4572fc5-fe6c-4e19-8131-2e629bd6f3d0',\r\n          'Content-Type': 'application/json'\r\n        },\r\n        body: JSON.stringify({\r\n          avatar: avatarValue\r\n        })\r\n      })\r\n      .then(res => res.ok ? res.json() : Promise.reject(res.status))\r\n      .catch(err => console.log(`Ошибка: ${err}`))\r\n  };\r\n}\r\nconst api = new Api();\r\nexport default api;","import React from 'react';\nimport CurrentUserContext from './contexts/CurrentUserContext';\nimport Header from './components/Header';\nimport Main from './components/Main';\nimport EditProfilePopup from './components/EditProfilePopup';\nimport EditAvatarPopup from './components/EditAvatarPopup';\nimport AddPlacePopup from './components/AddPlacePopup';\nimport ImagePopup from './components/ImagePopup';\nimport api from './components/Api';\n\nfunction App() {\n  const [isEditProfilePopupOpen, setPopupProfile] = React.useState(false);\n  const [isAddPlacePopupOpen, setPopupPlace] = React.useState(false);\n  const [isEditAvatarPopupOpen, setPopupAvatar] = React.useState(false);\n  const [selectedCard, setSelectedCard] = React.useState();\n  const [currentUser, setCurrentUser] = React.useState({\n    name: '',\n    avatar: '',\n    about: '',\n    _id: '',\n  });\n  const [cards, setCards] = React.useState([]);\n  const [loading, setLoading] = React.useState(false);\n\n  const onEditProfile = () => setPopupProfile(!isEditProfilePopupOpen);\n  const onAddPlace = () => setPopupPlace(!isAddPlacePopupOpen);\n  const onEditAvatar = () => setPopupAvatar(!isEditAvatarPopupOpen);\n  const handleCardClick = (link) => setSelectedCard(link);\n  const closeAllPopups = () => {\n    setPopupProfile(false);\n    setPopupPlace(false);\n    setPopupAvatar(false);\n    setSelectedCard();\n  };\n  const handleUpdateUser = (obj) => {\n    setLoading(true);\n    api.sendUserInfo(obj.name, obj.about)\n    .then((res) => {\n      setCurrentUser(res);\n      closeAllPopups();\n    })\n    .catch(err => console.log(`Ошибка: ${err}`))\n    .finally(() => setLoading(false));\n\n  }\n  const handleUpdateAvatar = (obj) => {\n    setLoading(true);\n    api.changeAvatar(obj.avatar)\n    .then((res) => {\n      setCurrentUser(res);\n      closeAllPopups();\n    })\n    .catch(err => console.log(`Ошибка: ${err}`))\n    .finally(() => setLoading(false));\n  }\n  const handleCardLike = (card) => {\n    const isLiked = card.likes.some(i => i._id === currentUser._id);\n    api.editLike(card._id, !isLiked).then((newCard) => {\n      const newCards = cards.map((c) => c._id === card._id ? newCard : c);\n      setCards(newCards);\n    })\n  }\n  const handleCardDelete = (card) => {\n    api.deleteCard(card._id).then(() => {\n      const newCards = cards.filter((c) => c._id !== card._id);\n      setCards(newCards);\n    })\n  }\n  const handleAddPlaceSubmit = (newCard) => {\n    setLoading(true);\n    api.addCard(newCard)\n    .then((res) => {\n      setCards([...cards, res]);\n      closeAllPopups();\n    })\n    .catch(err => console.log(`Ошибка: ${err}`))\n    .finally(() => setLoading(false));\n  }\n  React.useEffect(() => {\n    api.getUserInfo().then((res) => setCurrentUser(res))\n    api.getInitialCards().then(res => setCards(res));\n  }, []);\n  return (\n    <div className=\"App\">\n      <CurrentUserContext.Provider value={currentUser}>\n        <Header />\n        <Main\n          onEditProfile={onEditProfile}\n          onAddPlace={onAddPlace}\n          onEditAvatar={onEditAvatar}\n          onCardClick={handleCardClick}\n          cards={cards}\n          onCardLike={handleCardLike}\n          onCardDelete={handleCardDelete}\n        />\n        <ImagePopup\n          card={selectedCard}\n          onClose={closeAllPopups}\n        />\n        <EditProfilePopup\n          onUpdateUser={handleUpdateUser}\n          isOpen={isEditProfilePopupOpen}\n          onClose={closeAllPopups}\n          loading={loading}\n        />\n        <AddPlacePopup\n          onUpdateParce={handleAddPlaceSubmit}\n          isOpen={isAddPlacePopupOpen}\n          onClose={closeAllPopups}\n          loading={loading}\n        />\n        <EditAvatarPopup\n          onUpdateAvatar={handleUpdateAvatar}\n          isOpen={isEditAvatarPopupOpen}\n          onClose={closeAllPopups}\n          loading={loading}\n        />\n      </CurrentUserContext.Provider>\n    </div>\n  );\n}\nexport default App;","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}